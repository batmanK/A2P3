<!DOCTYPE html>
<html>
<head>
</head>
<body>
  <script type="text/javascript"    src="/js/jquery-1.8.3.js"></script>
  <script type="text/javascript"    src="/js/purl.js"></script>
  <script type="text/javascript"    src="/js/config.js"></script>

<H1>A2P3 Backdoor</H1>
<b>will login as <i>dev@example.com</i></b>
<ul id='loginList'>
</ul>

<script type="text/javascript">
    $(document).ready( function () {

      var port = (config.port == '80') ? '' : '%3a' + config.port // :8080
      var servers =
        { 'registrar':  'Registar'
        , 'email':      'Email RS'
        , 'si':         'Social Insurance RS'
        , 'health':      'Standard Health RS'
        , 'health.bc':    'BC Health RS'
        , 'health.ab':    'Alberta Health RS'
        , 'people':      'Standard People RS'
        , 'people.bc':    'BC People RS'
        , 'people.ab':    'Alberta People RS'
        , 'clinic':       'Clinic App (NOT IMPLEMENTED)'
        , 'bank':       'Bank App (NOT IMPLEMENTED)'
        }
      Object.keys( servers ).forEach( function (host ) {
        var url = config.protocol + '://' + host + '.' + config.baseDomain + ':' + config.port +
          '/login?returnURL=http%3a%2f%2fsetup.' + config.baseDomain + port + '%2fbackdoor%2flogin%2fdev%40example.com'
        $('#loginList').append('<li><a href="' + url + '">' + servers[host] + '</a></li>')
      })

      console.log(config)
    })

</script>

<pre>
NOTE: before this works, you must run "npm test"
  npm install
  npm start

  #in seperate terminal

  npm test
</pre>
</body>
</html>